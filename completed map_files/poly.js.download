google.maps.__gjsload__('poly', function(_){var sQ=function(a,b){return b?_.As(b,a.map.get("projection")):null},tQ=function(a,b){return b?_.gm(b,a.map.get("projection"),!1):null},uQ=function(a){for(a=a.toString(16);a.length<2;)a="0"+a;return a},W0a=function(a,b,c,d){let e=null,f=c*c;for(let w=0,x=d.length;w<x;++w){a:{let y,B;var g=void 0;var h=a;var l=b,n=c,p=d[w];const C=p.length;if(!C||n<=0){h=null;break a}let J=0,L=n*n*1.01;const U=[0,0];let W=p[J++]-h,qa=p[J++]-l,E=(W<-n?1:0)|(W>n?2:0)|(qa<-n?4:0)|(qa>n?8:0);var r=W*W+qa*qa;!E&&r<=L&&(L=
r,U[0]=W,U[1]=qa);for(;J<C;){B=W;y=qa;g=E;W=p[J++]-h;qa=p[J++]-l;E=(W<-n?1:0)|(W>n?2:0)|(qa<-n?4:0)|(qa>n?8:0);if(g&E)continue;r=W*W+qa*qa;!E&&r<=L&&(L=r,U[0]=W,U[1]=qa);g=W-B;const va=qa-y;var u=g*g+va*va;if(u<1E-12)continue;const Ba=W*g+qa*va;Ba<0||Ba>u||(r-=Ba*Ba/u,r<=L&&(L=r,u=1-Ba/u,U[0]=B+g*u,U[1]=y+va*u))}U[0]+=h;U[1]+=l;U[2]=L;h=L<=n*n?U:null}h&&h[2]<=f&&(f=h[2],e=h)}return e},X0a=function(a,b,c){let d=0;for(let e=0,f=c.length;e<f;++e)d+=_.jJa(a,b,c[e]);return!!(d&1)},vQ=function(a,b,c){const d=
a.path;a=a.Ym;const e=[],f=a?[]:null,g=d[0]===d[d.length-2]&&d[1]===d[d.length-1];for(let h=0,l=d.length-2;h<l;h+=2){const n=d[h],p=d[h+1],r=d[h+2],u=d[h+3];let w=null,x=null;a&&(w=a[h/2],x=a[h/2+1]);let y,B;switch(b){case 0:y=n>=c;B=r>=c;break;case 1:y=n<=c;B=r<=c;break;case 2:y=p>=c;B=u>=c;break;case 3:y=p<=c,B=u<=c}!h&&y&&(e.push(n,p),a&&f.push(w));if(y!==B){let C=0;switch(b){case 0:case 1:C=(c-n)/(r-n);e.push(c,p+C*(u-p));break;case 2:case 3:C=(c-p)/(u-p),e.push(n+C*(r-n),c)}a&&f.push(w+C*(x-
w))}B&&(e.push(r,u),a&&f.push(x))}g&&e.length&&(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&(e.push(e[0],e[1]),a&&f.push(a[a.length-1]));return{path:e,Ym:f}},Y0a=function(a,b){a=vQ(a,0,b.minX);a=vQ(a,1,b.maxX);a=vQ(a,2,b.minY);return vQ(a,3,b.maxY)},Z0a=function(a){const b=a.length;!b||a[0]===a[b-2]&&a[1]===a[b-1]||(a.push(a[0]),a.push(a[1]))},$0a=function(a,b){for(let d=0,e=a.length;d<e;d+=2){var c=new _.ck(a[d],a[d+1],!0);c=_.As(c,b);a[d]=c.Eg;a[d+1]=c.Fg}},a1a=function(a){const b=new _.XKa(["mousemove",
"mouseup","mousewheel"]);_.$D(b,["panes","pixelBounds"],a);return b},wQ=function(a){const b=a1a(a);_.rk(b,"mousemove",_.mk);_.rk(b,"mouseup",_.mk);_.rk(b,"mousewheel",(...c)=>{const d=a.get("mouseEventTarget");d&&_.Dk(d,"mousewheel",...c)});return b},c1a=function(a){var b=["px","%"];if(!a||!_.mj(b))return null;if(a==="0")return{value:0,unit:b[0]};for(let c=0,d=b.length;c<d;++c){const e=b[c],f=(b1a[e]=b1a[e]||new RegExp(`^(\\d+(?:\\.\\d+)?)${e}$`)).exec(a);if(f)return{value:Number(f[1]),unit:e}}return null},
d1a=function(a,b,c){const d=_.gm(new _.tm(c.x,c.y),a);a=_.gm(new _.tm(c.x+b,c.y+b),a);return Math.min(Math.abs(d.lat()-a.lat()),Math.abs(d.lng()-a.lng()))},xQ=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z},yQ=function(a,b,c){c.x=a.y*b.z-a.z*b.y;c.y=a.z*b.x-a.x*b.z;c.z=a.x*b.y-a.y*b.x},zQ=function(a,b){const c=_.Si(a[0]);a=_.Si(a[1]);const d=Math.cos(c);b.x=Math.cos(a)*d;b.y=Math.sin(a)*d;b.z=Math.sin(c)},AQ=function(a,b){const c=Math.atan2(a.y,a.x);b[0]=_.Ti(Math.atan2(a.z,Math.sqrt(a.x*a.x+a.y*a.y)));
b[1]=_.Ti(c)},f1a=function(a,b,c){c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;e1a(c)},e1a=function(a){const b=Math.sqrt(xQ(a,a));b<1E-12||(a.x/=b,a.y/=b,a.z/=b)},g1a=function(a,b){for(;b<a.Eg.length;++b)a.Eg[b].index=b},BQ=function(a,b,c,d){const e=b.index,f=b.Eo.get("position");b=(b=b.Eo.get("latLngPosition"))&&a.map?_.As(b,a.map.get("projection")):null;_.Dk(a,c,e,f,b,d)},h1a=function(a,b,c){if((b=b.Eo.Og)&&a.map){a=a.map.__gm.get("projectionController");const d=a.fromLatLngToDivPixel(c);b=b(d);if(b=a.fromDivPixelToLatLng(b))return b}return c},
i1a=function(a,b){if(b&&a.qp){if(a.constraint===2)return{clientX:a.qp.clientX,clientY:b.clientY};if(a.constraint===1)return{clientX:b.clientX,clientY:a.qp.clientY}}return b},CQ=function(a){const b=a.Eg,c=a.get("center");var d=a.get("radius");if(c&&_.sj(d)){a.Hg=!0;var e=a.get("planetRadius"),f=_.Ti(d/e);var g=_.Si(c.lat());if(e=d/e){d=Math.cos(e);e=Math.sin(e);var h=Math.sin(g);g=Math.atan2(Math.sin(Math.acos((1-d)/e*Math.tan(g)))*e*Math.cos(g),d-h*h)}else g=0;g=_.Ti(g);b.setAt(0,c);d=c.lat()+f;d<
90?b.setAt(1,new _.ck(d,c.lng())):b.setAt(1,null);f=c.lat()-f;f>-90?b.setAt(2,new _.ck(f,c.lng())):b.setAt(2,null);g<=180?(f=c.lng()+g,g=c.lng()-g,b.setAt(3,new _.ck(c.lat(),f)),b.setAt(4,new _.ck(c.lat(),g))):(b.setAt(3,null),b.setAt(4,null));a.Hg=!1;a.Fg||_.Dk(a,"toolbar",{show:!1})}else b.clear()},j1a=function(a){const b=a.Ig;b&&(b.unbindAll(),b.release(),_.wk(b),a.Ig=null)},m1a=function(a){var b=a.get("panes");if(!b)return null;b=new DQ(a.Eg,k1a,l1a,!1,b.overlayMouseTarget,a.Jg,a.get("map"),a.ah);
b.bindTo("projection",a);b.bindTo("zoom",a);b.bindTo("projectionCenterQ",a);b.bindTo("panningEnabled",a);b.bindTo("mapPixelBounds",a);b.bindTo("color",a);b.bindTo("zIndex",a);b.bindTo("offset",a);a.Hq.bindTo("freeVertexPosition",b);let c=null,d=null;_.rk(b,"dragstart",e=>{c=a.get("center");d=a.get("radius");a.Hq.set("freeVertexIsCenter",e===0);a.Hq.set("map",a.get("map"))});_.rk(b,"dragend",(e,f,g)=>{a.Hq.set("map",null);_.Dk(a,"toolbar",{show:!0,Fw:g,action:()=>{a.set("center",c);a.set("radius",
d)}})});_.Ck(b,"dragstart",a);_.Ck(b,"dragend",a);_.Ck(b,"panbynow",a);return b},n1a=function(a,b,c){return c&&b||a},EQ=function(a){let b;if(a.Fg){const c=_.FJ(a.get("color"));c&&(c.red=Math.floor((c.red+255)/2),c.green=Math.floor((c.green+255)/2),c.blue=Math.floor((c.blue+255)/2),b=["#",uQ(c.red),uQ(c.green),uQ(c.blue)].join(""))}a.Ng.setFillColor(a.Eg,b||"white")},q1a=function(a,b,c,d){function e(){a.get("editable")?o1a(a,b,c,d):(p1a(a),_.Dk(a,"toolbar",{show:!1}))}a.editable_changed=e;e()},o1a=
function(a,b,c,d){if(!a.wz){var e=new _.aL(a,!0);a.nr=e;var f=new r1a;f.bindTo("strokeColor",e);f.bindTo("strokeOpacity",e,"ghostStrokeOpacity");f.bindTo("strokeWeight",e);f.bindTo("center",a);f.bindTo("radius",a);f.bindTo("planetRadius",c);f.bindTo("zIndex",a);a.Hq=f;var g=b.__gm;a.Cj=wQ(g);var h=_.GJ(g,a),l=_.Us()?9:0,n=new FQ;d=new s1a(f,function(p,r,u){return new GQ(p,a.Cj,l,r,h,n,u)},d);d.set("map",b);d.bindTo("center",a);d.bindTo("radius",a);d.bindTo("planetRadius",c);d.bindTo("panes",g);d.bindTo("projection",
b);d.bindTo("zoom",g);d.bindTo("projectionCenterQ",g);d.bindTo("panningEnabled",b,"draggable");d.bindTo("mapPixelBounds",g,"pixelBounds");d.bindTo("offset",g);d.bindTo("color",e,"strokeColor");d.bindTo("zIndex",a);a.wz=d;_.Ck(d,"panbynow",g);_.Ck(d,"toolbar",a)}},p1a=function(a){const b=a.wz;b&&(b.unbindAll(),b.set("map",null),_.wk(b),delete a.wz,a.Cj?.unbindAll(),a.Cj?.release(),delete a.Cj,a.Hq?.unbindAll(),delete a.Hq,a.nr?.release(),delete a.nr)},t1a=function(a,b,c){const d=Array(250);var e=_.Si(a.lat()),
f=_.Si(a.lng()),g=Math.cos(b);const h=Math.sin(b),l=Math.cos(e);e=Math.sin(e);if(l>1E-6)for(a=0;a<250;++a){b=a/250*Math.PI*4;b+=Math.sin(b+Math.PI);var n=b/2,p=e*g+l*h*Math.cos(n);b=Math.asin(p);let r=f+Math.atan2(Math.sin(n)*h*l,g-e*p);n=-Math.PI;p=Math.PI-n;r=((r-n)%p+p)%p+n;d[a]=c(_.Ti(b),_.Ti(r))}else for(f=_.Ti(b),f=a.lat()>0?a.lat()-f:a.lat()+f,g=0;g<250;++g)d[g]=c(f,360*g/250);return d},IQ=function(a){const b=new _.Gn;this.Fg=b;b.Iu=a;b.BD=!0;b.bindTo("capturing",this);b.bindTo("cursor",this);
b.bindTo("map",this);b.bindTo("strokeColor",this);b.bindTo("strokeOpacity",this);b.bindTo("strokeWeight",this);b.bindTo("strokePosition",this);b.bindTo("fillColor",this);b.bindTo("fillOpacity",this);b.bindTo("clickable",this);b.bindTo("zIndex",this);b.bindTo("suppressUndo",this);b.lx=!0;const c=this.Eg=[];HQ.forEach(d=>{c.push(_.Ck(b,d,this))});c.push(_.Ck(this,"toolbar",b));this.Hg=new _.Km(()=>{const d=this.Fg;if(d){var e=this.get("radius"),f=this.get("center");_.sj(e)&&f?(e/=this.get("planetRadius"),
d.setPaths(u1a(f,e))):d.setPaths([])}},0)},u1a=function(a,b){const c=[t1a(a,b,function(d,e){return new _.ck(d,e)})];_.Si(a.lat())-b<-Math.PI/2&&(a=[new _.ck(-90,-200,!0),new _.ck(90,-200,!0),new _.ck(90,-100,!0),new _.ck(90,0,!0),new _.ck(90,100,!0),new _.ck(90,200,!0),new _.ck(-90,200,!0),new _.ck(-90,100,!0),new _.ck(-90,0,!0),new _.ck(-90,-100,!0),new _.ck(-90,-200,!0)],c.push(a));return c},JQ=function(a,b){const c=a.__gm,d=()=>{const e=a.get("gestureHandling");e!=null?b.set("panningEnabled",e!==
"none"):b.set("panningEnabled",a.get("draggable"))};_.rk(a,"gesturehandling_changed",d);_.rk(a,"draggable_changed",d);b.bindTo("panes",c);b.bindTo("projectionController",c);b.bindTo("containerPixelBounds",c,"pixelBounds");c.Ah=_.Ck(b,"panbynow",c)},KQ=function(a,b){const c=()=>{const d=a.getMap();a.getDraggable()&&(_.pl(d,"Od"),_.N(d,147751))};a.draggable_changed=c;c();a.CD=[_.rk(a,"mouseover",d=>{d.vertex==null&&d.edge==null&&b.set("poly",a)}),_.rk(a,"mouseout",d=>{d.vertex!=null||d.edge!=null||
d.domEvent&&_.Bq(d.domEvent)||b.set("poly",null)})]},LQ=function(a){(a.CD||[]).forEach(_.tk);delete a.draggable_changed;delete a.CD},MQ=function(a){if(!a.get("active")){var b=a.get("panes"),c=a.get("projectionController"),d=a.get("poly");if(b!==a.Mg||c!==a.Ig||d!==a.Eg)a.Mg=b,a.Ig=c,a.Eg=d,a.Fg&&a.Fg.forEach(_.tk),a.Fg=null,a.Mg&&a.Ig&&a.Eg?(a.Fg=[_.zk(a.Eg,"mousedown",a,a.Tg),_.zk(a.Eg,"mouseup",a,a.Ug),_.zk(a.Eg,"movestart",a,a.Qg),_.zk(a.Eg,"move",a,a.Rg),_.zk(a.Eg,"moveend",a,a.Pg)],a.Fg.push(_.rk(a.Eg,
"editable_changed",()=>{a.get("storeEditable")&&(a.Ng=a.Eg.get("editable"),a.set("storeEditable",!1),a.Eg.set("editable",!1),a.set("storeEditable",!0))})),a.bindTo("draggable",a.Eg)):(a.unbind("draggable"),a.set("draggable",!1))}},NQ=function(a,b,c){var d=a.get("position");d=a.Ig.fromDivPixelToLatLng(d);c=new _.ry(d,c.domEvent);a.Eg&&_.Dk(a.Eg,b,c)},v1a=function(a){_.OJ(a.Jg,a.get("panningEnabled")!==!1&&a.get("dragging"))},x1a=async function(a,b){const c=await _.ej("geometry");a.Eg=new OQ((d,e,f)=>
new w1a(d,e,f,c.spherical.computeHeading,c.spherical.computeOffsetOrigin),a.map,b);JQ(a.map,a.Eg);a.Mh.Og.forEach(d=>{a.tj(d)})},z1a=function(a){const b=a.getVisible()!=0?a.getMap():null;a.Tl!==b&&(a.Tl&&a.Tl.__gm.Og.remove(a),b&&(b.__gm.Og.tj||new y1a(b),_.Pm(b.__gm.Og,a)),a.Tl=b)},A1a=function(a){a=a.poly.get("latLngs");const b=new PQ(0),c=new PQ(0);a.forEach(d=>{d.forEach(e=>{zQ([e.lat(),e.lng()],c);b.x+=c.x;b.y+=c.y;b.z+=c.z})});e1a(b);a=[0,0];AQ(b,a);a[0]=_.pj(a[0],-89,89);return new _.ck(a[0],
a[1])},C1a=function(a,b,c,d){a.capturing_changed=function(){if(a.get("capturing"))if(a.get("clickable")==0){const e=a.Xw=new B1a;e.bindTo("draggableCursor",a,"cursor");e.set("active",!0);b.bindTo("cursor",e);d.register(e)}else d.setCapture(c,a);else a.Xw?(d.unregister(a.Xw),a.Xw.unbindAll(),b.unbind("cursor"),b.set("cursor",""),delete a.Xw):d.releaseCapture(c,a)}},D1a=function(a){a.Fg||(a.Fg=b=>{_.nj(a.Fg.Tj,(c,d)=>{d(b)})},a.Fg.Tj={});a.Ig||(a.Ig=(b,c)=>{_.nj(a.Ig.Tj,(d,e)=>{e(b,c)})},a.Ig.Tj={});
a.Hg||(a.Hg=(b,c)=>{_.nj(a.Hg.Tj,(d,e)=>{e(b,c)})},a.Hg.Tj={})},QQ=function(a,b){a.Fg&&delete a.Fg.Tj[b];a.Ig&&delete a.Ig.Tj[b];a.Hg&&delete a.Hg.Tj[b]},H1a=function(a,b,c){const d=_.Fk(b);c in E1a&&(a.Eg[d]=b,RQ(b));c in F1a&&(a.Fg[d]=b);G1a(a)},RQ=function(a){var b=a.get("latLngs");if(b){a=_.Fk(a);QQ(b,a);b=b.getArray();for(let c=0,d=b.length;c<d;++c)QQ(b[c],a)}},G1a=function(a){a.timeout||(a.timeout=_.XD(()=>{a.timeout=0;var b=a.Fg;a.Fg={};const c=a.Eg;a.Eg={};for(var d of Object.keys(b)){var e=
b[d],f=e.iy;f.style=I1a(a.Ig,e);f.cB&&!c[d]&&f.cB()}b=a.Hg;d=a.get("projection");for(const g of Object.keys(c))e=c[g],f=e.iy,b.remove(f),f.geometry=J1a(e,d),_.Pm(b,f),K1a(a,e)}))},K1a=function(a,b){function c(){H1a(e,b,"latLngs")}const d=b.get("latLngs");if(d){var e=a,f=_.Fk(b);a=d.getArray();for(let g=0,h=a.length;g<h;++g){const l=a[g];D1a(l);l.Fg.Tj[f]=l.Ig.Tj[f]=l.Hg.Tj[f]=c}D1a(d);d.Ig.Tj[f]=d.Hg.Tj[f]=(g,h)=>{QQ(h,f);c()};d.Fg.Tj[f]=c}},L1a=function(a){const b=a.get("projection"),c=a.Fg;if(b){var d=
a.Eg,e=d.getLength(),f=a.get("geodesic");for(let g=0;g<e-1;++g)c.setAt(g,SQ(d.getAt(g),d.getAt(g+1),f,b,a.interpolate))}else c.clear()},M1a=function(a,b,c){const d=a.get("projection");if(d){var e=a.Eg,f=e.getAt(c),g=a.Fg,h=a.get("geodesic");c>0&&g.setAt(c-1,SQ(e.getAt(c-1),f,h,d,a.interpolate));c<e.getLength()-1&&(a=SQ(f,e.getAt(c+1),h,d,a.interpolate),b?g.insertAt(c,a):g.setAt(c,a))}},SQ=function(a,b,c,d,e){c?d=e(a,b,.5):(Math.abs(a.lng()-b.lng())>180&&(a=new _.ck(a.lat(),_.qj(a.lng(),b.lng()-180,
b.lng()+180),!0)),a=d.fromLatLngToPoint(a),b=d.fromLatLngToPoint(b),d=d.fromPointToLatLng(new _.P((a.x+b.x)/2,(a.y+b.y)/2)));return d},TQ=function(a){a.unbindAll();a.release();_.wk(a);a.Fg&&(a.Fg.release(),a.Fg.unbindAll())},WQ=function(a){function b(){_.Dk(c,"toolbar",{show:!1})}const c=a;N1a(c);const d=c.get("paths");a=c.get("panes");if(d&&a){var e=a.overlayMouseTarget;d.forEach(f=>{c.Fg.push(UQ(c,f,e));c.get("suppressGhostControlPoints")||c.Eg.push(VQ(c,f,e))});b();a=c.Hg;a.push(_.rk(d,"insert_at",
f=>{const g=c.get("suppressGhostControlPoints"),h=d.getAt(f);c.Fg.splice(f,0,UQ(c,h,e));g||c.Eg.splice(f,0,VQ(c,h,e));b()}));a.push(_.rk(d,"remove_at",f=>{const g=c.get("suppressGhostControlPoints");TQ(c.Fg[f]);c.Fg.splice(f,1);g||(TQ(c.Eg[f]),c.Eg.splice(f,1));b()}));a.push(_.rk(d,"set_at",f=>{const g=c.get("suppressGhostControlPoints");TQ(c.Fg[f]);const h=d.getAt(f);c.Fg[f]=UQ(c,h,e);g||(TQ(c.Eg[f]),c.Eg[f]=VQ(c,h,e));b()}))}},N1a=function(a){_.Ob(a.Fg,TQ);_.Ob(a.Eg,TQ);a.Fg.length=0;a.Eg.length=
0;_.Ob(a.Hg,_.tk);a.Hg.length=0},P1a=function(a,b,c,d){const e=new DQ(b,["pointer"],[0],d,c,a.Ig,a.get("map"),a.ah);e.bindTo("projection",a);e.bindTo("zoom",a);e.bindTo("projectionCenterQ",a);e.bindTo("panningEnabled",a);e.bindTo("mapPixelBounds",a);e.bindTo("color",a);e.bindTo("zIndex",a);e.bindTo("offset",a);_.Ck(e,"dragstart",a);_.Ck(e,"dragend",a);_.Ck(e,"panbynow",a);_.Ck(e,"toolbar",a);_.Ob(HQ,f=>{_.rk(e,f,(g,h,l,n)=>{h=b.getAt(g);let p;if(a.Dm){l=d?a.Eg:a.Fg;for(let r=0;r<l.length;++r)if(l[r]===
e){p=r;break}}_.Dk(a,f,new O1a(h,n,p,d?void 0:g,d?g:void 0))})});return e},UQ=function(a,b,c){const d=P1a(a,b,c,!1),e=a.Ql;let f;_.rk(d,"dragstart",g=>{f=b.getAt(g);var h=b.getArray(),l=a.Dm;const n=h.length;if(n<2)e.set("anchors",[]);else{var p=h[l&&g===0?n-1:g-1];g=h[l&&g===n-1?0:g+1];h=[];p&&h.push(p);g&&h.push(g);e.set("anchors",h)}e.bindTo("freeVertexPosition",d);e.set("map",a.get("map"))});_.rk(d,"dragend",(g,h,l)=>{e.set("map",null);_.Dk(a,"toolbar",{show:!0,Fw:l,action:()=>{b.setAt(g,f)}})});
return d},VQ=function(a,b,c){const d=new _.im,e=a.Dm?new Q1a(b):b,f=new R1a(e,d,a.interpolate);f.bindTo("geodesic",a);f.bindTo("projection",a);const g=P1a(a,d,c,!0);g.Fg=f;const h=a.Ql;_.rk(g,"dragstart",l=>{l=[e.getAt(l),e.getAt(l+1)];h.set("anchors",l);h.bindTo("freeVertexPosition",g);h.set("map",a.get("map"))});_.rk(g,"dragend",(l,n,p)=>{b.insertAt(l+1,d.getAt(l));h.set("map",null);_.Dk(a,"toolbar",{show:!0,Fw:p,action:()=>{b.removeAt(l+1)}})});return g},U1a=function(a,b,c,d,e){function f(){a.get("editable")?
(S1a(a,b,d,e),_.pl(b,"Oe"),_.N(b,147756)):(_.Dk(c,"toolbar",{show:!1,poly:a}),T1a(a))}a.editable_changed=f;f();a.iC=_.rk(a,"toolbar",g=>{g.poly=a;_.Dk(c,"toolbar",g)})},S1a=function(a,b,c,d){if(!a.jB){var e=new _.aL(a,a.Dm);a.nr=e;var f=new _.YKa;f.bindTo("strokeColor",e);f.bindTo("strokeOpacity",e,"ghostStrokeOpacity");f.bindTo("strokeWeight",e);f.bindTo("geodesic",a);f.bindTo("zIndex",a);a.Ql=f;var g=b.__gm;a.Cj=wQ(g);var h=_.GJ(g,a),l=_.Us()?9:0,n=new FQ,p=new V1a(f,a.Dm,function(r,u,w){return new GQ(r,
a.Cj,l,u,h,n,w)},c,d);p.set("map",b);p.bindTo("paths",a,"latLngs");p.bindTo("panes",g);p.bindTo("projection",b);p.bindTo("zoom",g);p.bindTo("projectionCenterQ",g);p.bindTo("panningEnabled",b,"draggable");p.bindTo("mapPixelBounds",g,"pixelBounds");p.bindTo("offset",g);p.bindTo("color",e,"strokeColor");p.bindTo("zIndex",a);p.bindTo("geodesic",a);p.bindTo("suppressGhostControlPoints",a);a.jB=p;_.Ck(p,"panbynow",g);_.Ck(p,"toolbar",a);HQ.forEach(r=>{_.Ck(p,r,a)})}},T1a=function(a){const b=a.jB;b&&(b.unbindAll(),
b.set("map",null),_.wk(b),delete a.jB,a.Cj.unbindAll(),a.Cj.release(),delete a.Cj,a.Ql.unbindAll(),delete a.Ql,a.nr.release(),delete a.nr)},W1a=function(a){a.Fg&&_.vk(a.Fg,"suppressundo_changed")},X1a=function(a,b,c){a.Hg(_.Il);a.Ig=b;W1a(a);a.Fg=c;_.dE(a.Eg);_.rk(c,"suppressundo_changed",()=>{c.get("suppressUndo")&&a.Mj()})},Y1a=function(a){return(a||[]).map(b=>(b||[]).map(c=>Math.round(c)))},a2a=function(a,b,c){function d(){g[w++]=l.latLng[0];g[w++]=l.latLng[1];f&&(h[r++]=l.distance);n=l}const e=
a.path,f=a.Ym;if(!e.length)return a;const g=Array(e.length),h=f?Array(f.length):null;a=[];let l,n=XQ();g[0]=n.latLng[0]=e[0];g[1]=n.latLng[1]=e[1];f&&(h[0]=n.distance=f[0]);n.depth=0;zQ(n.latLng,n.Vt);let p=1,r=1;const u=[];let w=2;for(let y=2;y<e.length||u.length;){u.length?l=u.pop():(l=XQ(),l.depth=0,l.latLng[0]=e[y++],l.latLng[1]=e[y++],f&&(l.distance=f[p++]),zQ(l.latLng,l.Vt));if(Math.max(n.depth,l.depth)>=12){d();continue}var x=new _.jm;x.minX=Math.min(n.latLng[0],l.latLng[0]);x.maxX=Math.max(n.latLng[0],
l.latLng[0]);x.minY=Math.min(n.latLng[1],l.latLng[1]);x.maxY=Math.max(n.latLng[1],l.latLng[1]);if(!_.lm(b,x)){d();continue}const B=XQ();f1a(n.Vt,l.Vt,B.Vt);AQ(B.Vt,B.latLng);B.depth=Math.max(n.depth,l.depth)+1;f&&(B.distance=(n.distance+l.distance)/2);const C=x.minY-1E-6,J=x.maxY+1E-6;x=B.latLng;x[1]=Z1a(C,J,x[1]);$1a(n.latLng,l.latLng,a);Math.max(Math.abs(B.latLng[0]-a[0]),Math.abs(B.latLng[1]-a[1]))<=c?d():(u.push(l),u.push(B))}return{path:g,Ym:h}},$1a=function(a,b,c){c[0]=(a[0]+b[0])/2;c[1]=(a[1]+
b[1])/2},Z1a=function(a,b,c){for(;c<a;)c+=360;for(;c>b;)c-=360;return c},XQ=function(){return{latLng:[0,0],Vt:new PQ(0)}},b2a=function(a){return function(b,c){if(b.unit==="px")b=b.value/a;else{const d=_.mj(c);b=d?b.value/100*c[d-1]:0}return b}},c2a=function(a,b){return function(c,d){if(c===0)return!0;c=a[c];d=a[d];for(let e=0,f;f=b[e];++e){const g=f.offset,h=f.repeat;if(h){if(Math.floor((c-g)/h)!==Math.floor((d-g)/h))return!0}else if(c<g&&g<=d)return!0}return!1}},d2a=function(a,b,c,d){const e=a.minX,
f=a.minY,g=a.maxX,h=a.maxY;return function(l,n,p){var r=d[l*2],u=d[l*2+1];l=d[n*2];n=d[n*2+1];var w=Math.min(u,n)-p,x=Math.max(r,l)+p;const y=Math.max(u,n)+p;Math.min(r,l)-p<=g&&e<=x&&w<=h&&f<=y?p>b?p=!0:(w=c.fromLatLngToPoint(new _.ck(r,u,!0)),x=c.fromLatLngToPoint(new _.ck(l,n,!0)),w=c.fromPointToLatLng(new _.P((w.x+x.x)/2,(w.y+x.y)/2),!0),u=(u+n)/2,r=(r+l)/2-w.lat(),l=u-w.lng(),p=Math.sqrt(r*r+l*l)+p>b):p=!1;return p}},f2a=function(a,b,c){return function(d,e,f){const g=d.path,h=d.Ym,l=d2a(a,b,
c,g);d=l;if(h){const r=c2a(h,f);d=(u,w,x)=>l(u,w,x)||r(u,w)}const n=[],p=h?[]:null;e2a(e,g.length/2,d,function(r){n.push(g[r*2],g[r*2+1]);h&&p.push(h[r])});return{path:n,Ym:p}}},h2a=function(a,b,c,d){const e=a.Ym;if(!e)return null;a=a.path;const f=[];for(let l=0,n=a.length-2;l<n;){const p=a[l],r=a[l+1];var g=e[l/2],h=g-b;l+=2;let u=a[l],w=a[l+1];if(g2a(p,r,d)&g2a(u,w,d))continue;for(;_.rj(p,u)&&_.rj(r,w)&&l<n;)l+=2,u=a[l],w=a[l+1];const x=e[l/2]-b,y=Math.atan2(u-p,r-w);g===0&&(h-=1E-9);if(c)for(g=
Math.floor(x/c)*c;g>h;){const B=(g-h)/(x-h);f.push(p+(u-p)*B,r+(w-r)*B,y);g-=c}else h<0&&0<=x&&(h=(0-h)/(x-h),f.push(p+(u-p)*h,r+(w-r)*h,y))}return f},g2a=function(a,b,c){let d=0;_.rj(a,-16,.001)&&(d|=1);_.rj(a,c.hh+16,.001)&&(d|=2);_.rj(b,-16,.001)&&(d|=4);_.rj(b,c.jh+16,.001)&&(d|=8);return d},i2a=function(a,b,c){const d=[];if(c)for(let e=0,f;f=b[e];++e)d.push({offset:a.Fg(f.offset,c),repeat:a.Fg(f.repeat,c)});return d},j2a=function(a,b,c,d){const e=[],f=[];for(let l=0,n=d.length;l<n;++l)f.push([]);
for(let l=0,n=b.length;l<n;++l){var g=b[l];let p=g.kH;const r=i2a(a,d,p.Ym);g.yD?p=a.Jg(p,g.yD,r):p={path:p.path.slice(0),Ym:p.Ym};if(p.path.length){c&&(p=a2a(p,a.Eg,a.Ig));$0a(p.path,a.projection);p=Y0a(p,a.Hg);var h=p.path;g=a.Ch.size;if(h.length){e.push(h);for(let u=0;u<h.length;u+=2){const w=_.Jw(a.Ch,new _.tm(h[u],h[u+1]),a.zoom,x=>x);h[u]=(w.sh-a.un.x)*g.hh;h[u+1]=(w.th-a.un.y)*g.jh}for(let u=0,w;w=r[u];++u)(h=h2a(p,w.offset,w.repeat,g))&&(f[u]=f[u].concat(h))}}}return{paths:e,Hy:f}},m2a=function(a,
b,c){const d=k2a(a,b,c);a=l2a(d,c);return{canvas:d,context:a,DF:a?new _.LKa(a):null,release:()=>{d.width=d.height=0}}},k2a=function(a,b,c){a=a.createElement("canvas");a.width=b.hh*c;a.height=b.jh*c;a.style.width=_.gs(b.hh);a.style.height=_.gs(b.jh);_.Rs(a);return a},l2a=function(a,b){a=a.getContext("2d");if(!a)return null;a.scale(b,b);a.lineCap=a.lineJoin="round";return a},n2a=function(a,b,c,d,e){for(let C=0,J=a.length;C<J;++C){var f=b[C],g=c,h=d,l=a[C],n=f.XE,p=f.scale,r=f.rotation,u=f.XK,w=f.strokeColor,
x=f.strokeOpacity/e,y=f.strokeWeight,B=f.fillColor;f=f.fillOpacity/e;g.beginPath();for(let L=0,U=l.length;L<U;L+=3)h.Qh(n,l[L],l[L+1],r+(u?l[L+2]:0),p);f&&(g.fillStyle=B,g.globalAlpha=f,g.fill());y&&(g.lineWidth=y,g.strokeStyle=w,g.globalAlpha=x,g.stroke())}},YQ=function(a){a.Hg||(a.Hg=_.XD(()=>{a.Hg=0;const b=o2a(a);if(b.length){a.Eg||(a.Eg=m2a(a.tt,a.tileSize,a.Ig),_.Os(a.Eg.canvas,_.Il));var c=a.Eg.context;a:{for({Xj:d}of b)if(d&&d.yl){var d=d.yl;break a}d=null}if(c){a.Eg.canvas.parentNode||a.Yg.appendChild(a.Eg.canvas);
c.clearRect(0,0,a.tileSize.hh,a.tileSize.jh);for(let e=0;e<b.length;++e){const f=b[e],g=f.kB,h=g.TL;if(_.rj(1,h))a.Jg(c,f.paths,g.strokeColor,g.strokeOpacity,g.strokeWeight,g.strokePosition,g.lx,g.fillColor,g.fillOpacity),n2a(f.Hy,g.FF,c,a.Eg.DF,1);else{a.Fg||(a.Fg=m2a(a.tt,a.tileSize,a.Ig));const l=a.Fg.context;l&&(l.clearRect(0,0,a.tileSize.hh,a.tileSize.jh),a.Jg(l,f.paths,g.strokeColor,g.strokeOpacity/h,g.strokeWeight,g.strokePosition,g.lx),n2a(f.Hy,g.FF,l,a.Fg.DF,h),c.globalAlpha=h,c.drawImage(a.Fg.canvas,
0,0,a.tileSize.hh,a.tileSize.jh))}}d&&d()}else d&&d()}else a.Eg&&a.Eg.canvas.parentNode&&a.Yg.removeChild(a.Eg.canvas),p2a(a)}))},o2a=function(a){const b=[];a=a.Gi;for(const c of Object.keys(a))b.push(a[c]);b.sort((c,d)=>c.zIndex-d.zIndex);return b},p2a=function(a){a.Eg&&(a.Eg.release(),a.Eg=null);a.Fg&&(a.Fg.release(),a.Fg=null)},q2a=function(a,b,c){function d(l,n,p){p=p?r=>r:Math.round;l.beginPath();for(let r=0,u;u=n[r];++r)if(u.length){l.moveTo(p(u[0]),p(u[1]));for(let w=2,x=u.length;w<x;)l.lineTo(p(u[w++]),
p(u[w++]))}}const e=c.size,f=a.createElement("canvas");f.width=b*e.hh;f.height=b*e.jh;const g=f.getContext("2d");g.lineCap=g.lineJoin="round";g.scale(b,b);const h=[function(l,n,p,r,u){l.lineWidth=u;l.strokeStyle=p;l.globalAlpha=r;l.stroke()},function(l,n,p,r,u){l.lineWidth=u*2;l.strokeStyle=p;l.globalAlpha=r;l.save();l.clip();l.stroke();l.restore()},function(l,n,p,r,u,w){g.lineWidth=u*2;g.strokeStyle=p;g.globalCompositeOperation="source-over";g.clearRect(0,0,e.hh,e.jh);d(g,n,w);g.stroke();g.globalCompositeOperation=
"destination-out";g.fill();l.globalAlpha=r;l.drawImage(f,0,0,e.hh,e.jh)}];return function(l,n,p,r,u,w,x,y,B){d(l,n,x);y!=null&&B&&(l.fillStyle=y,l.globalAlpha=B,l.fill());if(u)h[w](l,n,p,r,u,x)}},s2a=function(a,b,c){a.Eg=a.Eg||q2a(a.tt,b,a.Ch);return new r2a(a.tt,c,a.Ch,a.Eg,b)},u2a=function(a,b){b.cB=()=>{Object.values(b.geometry.Gi).forEach(d=>{d.kB=b.style;d.zIndex=b.style.zIndex;YQ(d.Xj.lB)})};const c=b.geometry.bounds;c.poly=b;b.bounds=c;_.HJ(a.Eg,c);a=a.Fg.search(c);for(let d=0,e=a.length;d<
e;++d)t2a(b,a[d].yi)},v2a=function(a,b){delete b.cB;a.Eg.remove(b.bounds);a=b.geometry;Object.values(a.Gi).forEach(c=>{const d=c.Xj;var e=d.lB;delete e.Gi[_.Fk(c)];YQ(e);delete d.Gi[_.Fk(c)]});a.Gi={}},w2a=function(a,b){const c=b.bounds;c.yi=b;_.HJ(a.Fg,c);a=a.Eg.search(b.bounds);if(a.length===0)b.yl&&_.Im(b.yl.bind(b));else for(let d=0,e=a.length;d<e;++d)t2a(a[d].poly,b)},x2a=function(a,b){a.Fg.remove(b.bounds);Object.values(b.Gi).forEach(c=>{delete c.aF.Gi[_.Fk(c)]});b.Gi={}},t2a=function(a,b){const c=
a.geometry;var d=j2a(b.ZL,c.PJ,c.geodesic,c.UL);d.paths.length?(a={paths:d.paths,Hy:d.Hy,kB:a.style,zIndex:a.style.zIndex,Xj:b,aF:c},d=_.Fk(a),c.Gi[d]=a,b.Gi[d]=a,b=b.lB,b.Gi[_.Fk(a)]=a,YQ(b)):b.yl&&_.Im(b.yl.bind(b))},z2a=function(a){return(a||[]).map(b=>{const c=b.path;let d=Infinity,e=Infinity,f=-Infinity,g=-Infinity;for(let l=0,n=c.length;l<n;){var h=c[l++];d=Math.min(d,h);f=Math.max(f,h);h=c[l++];e=Math.min(e,h);g=Math.max(g,h)}h=new _.jm;h.minX=d;h.maxX=f;h.minY=e;h.maxY=g;return{kH:b,bounds:h,
...(c.length>=50&&{yD:y2a(c)})}})},C2a=function(a,b,c,d){return a.map(e=>{const f=e.path;e=e.Ym;var g=null;if(b){g=c?A2a(f):B2a(f,d);const h=new Map;h.set(0,0);let l=0;const n=[0];for(let p=1,r=e.length;p<r;++p){const u=e[p];h.has(u)?l=h.get(u):(l+=g(p-1),h.set(u,l));n.push(l)}g=n}return{path:f,Ym:g}})},B2a=function(a,b){const c=a.slice(0);$0a(c,b);return d=>{d*=2;const e=c[d]-c[d+2];d=c[d+1]-c[d+3];return Math.sqrt(e*e+d*d)}},A2a=function(a){return b=>{b*=2;const c=new _.ck(a[b],a[b+1]);b=new _.ck(a[b+
2],a[b+3]);return _.RC(c,b,1)}},G2a=function(a){a.length&&(a=D2a(a,E2a),a=D2a(a,F2a));return a},D2a=function(a,b){const c=[];let d=new PQ(0);const e=new PQ(0);let f=new PQ(0);const g=Array(a.length);g[0]=a[0];g[1]=a[1];zQ(a,d);for(let h=2,l=2;h<a.length;){c[0]=a[h];c[1]=a[h+1];zQ(c,f);b(d,f,e)&&(AQ(e,c),g[l++]=c[0],g[l++]=c[1]);g[l++]=a[h++];g[l++]=a[h++];const n=d;d=f;f=n}return g},E2a=function(a,b,c){if(a.z>0===b.z>0)return!1;yQ(a,b,ZQ);yQ(ZQ,H2a,c);c.z=0;if(xQ(c,c)<1E-12)return!1;xQ(c,a)+xQ(c,
b)<0&&(c.x=-c.x,c.y=-c.y);return!0},F2a=function(a,b,c){yQ(a,b,ZQ);yQ(H2a,ZQ,$Q);yQ(ZQ,$Q,c);if(xQ(c,c)<1E-12||xQ(a,$Q)>0===xQ(b,$Q)>0)return!1;xQ(c,a)+xQ(c,b)<0&&(c.x=-c.x,c.y=-c.y,c.z=-c.z);return!0},I2a=function(a,b,c){if(!b)return null;const d=[];b.forEach(e=>{var f=d.push;e=e.Eg;const g=e.length,h=Array(g*2);for(let l=0,n=0;l<g;++l){const p=e[l];h[n++]=p.lat();h[n++]=p.lng()}f.call(d,h)});if(a)for(const e of d)Z0a(e);if(c)for(let e=0,f=d.length;e<f;++e)d[e]=G2a(d[e]);return d},J2a=function(a){return(a||
[]).map(b=>{if(b.length){var c=b[1];var d=[0];for(let e=1,f=1;e<b.length/2;++e,++f){const g=b[2*e+1];if(Math.abs(c-g)>180){const h=g<c?1:-1,l=b[2*e-2],n=b[2*e];b.splice(2*e,0,n,g+360*h,n,g+450*h,90,g+450*h,90,c-450*h,l,c-450*h,l,c-360*h);d.push(f,f,f,f,f,f-1);e+=6}d.push(f);c=g}c=d}else c=[];return{path:b,Ym:c}})},K2a=function(a){return a.map(b=>a2a(b,_.Rp,.1))},J1a=function(a,b){var c=a.get("icons"),d=!a.Dm&&!!_.mj(c);let e=!0;c=d?c.map(l=>{const n=c1a(l.offset)||L2a;l=c1a(l.repeat)||M2a;e=e&&(n.value===
0||n.unit==="%")&&(l.value===0||l.unit==="%");return{offset:n,repeat:l}}):[];const f=a.get("geodesic");var g=I2a(a.Dm,a.get("latLngs"),f);g=J2a(g);const h=f&&e;f&&d&&!h&&(g=K2a(g));g=C2a(g,d,h,b);b=z2a(g);if(b.length===1)d=b[0].bounds;else{d=new _.jm;for(let l=0,n=b.length;l<n;++l)d.extendByBounds(b[l].bounds)}return{bounds:d,Mz:a,geodesic:f,PJ:b,Gi:{},UL:c}},I1a=function(a,b){const c=b.Dm,d=u=>{const w=b.get(u);return c?_.uj(w,a.Eg[u]):_.uj(w,a.Hg[u])},e=(b.get("zIndex")||0)*1E3+_.ra(b)%1E3,f=c?
d("strokePosition"):a.Eg.strokePosition;var g=f===0?32:16;const h=Math.min(d("strokeWeight"),g),l=d("strokeColor"),n=d("strokeOpacity");g=[];let p=1;if(!c){const u=b.get("icons")||[];g=u.map(x=>{const y=a.Fg(x.icon||{},l,n,h);y.XK=!x.fixedRotation;return y});let w=0;for(var r of g)w=Math.max(w,r.strokeOpacity),w=Math.max(w,r.fillOpacity);_.rj(0,w)||(_.rj(0,n)||_.rj(0,h))&&g.length===1||(p=Math.max(w,n));_.mj(u)&&(r=b.get("map"),_.pl(r,"Os"),_.N(r,147754))}if(!(r=b.get("hitStrokeWeight")))a:switch(f){case 1:r=
0;break a;case 2:r=h*2;break a;default:r=h}return{strokeColor:l,strokeOpacity:n,strokeWeight:h,strokePosition:f,lJ:r,...(c&&{fillColor:d("fillColor"),fillOpacity:d("fillOpacity")}),zIndex:e,clickable:d("clickable"),FF:g,TL:p,Dm:c,lx:!!b.lx}},R2a=function(a,b){a.Fg=new N2a(a.tiles,a.Mh,b.Kj,a.Ig);a.Mh.Kg.register(a.Fg);a.Eg=O2a(a,b);_.ej("geometry").then(c=>{a.geometry=c;a.Hg=new OQ((d,e,f)=>d.get("geodesic")&&a.geometry!=null?new P2a(d,e,f,a.geometry.spherical.computeHeading,a.geometry.spherical.computeOffset,
a.geometry.spherical.computeOffsetOrigin):new Q2a(d,e,f),a.map,b);JQ(a.map,a.Hg);a.Mh.Mg.forEach(d=>{a.tj(d)})})},O2a=function(a,b){b=new aR(b);b.bindTo("panes",a.Mh);b.bindTo("projection",a.map);b.bindTo("zoom",a.Mh);b.bindTo("projectionCenterQ",a.Mh);b.bindTo("offset",a.Mh);_.zk(a.map,"click",b,b.Mj);return b},T2a=function(a){const b=a.getVisible()!=0?a.getMap():null;a.Tl!==b&&(a.Tl&&a.Tl.__gm.Mg.remove(a),b&&(b.__gm.Mg.tj||new S2a(b),_.Pm(b.__gm.Mg,a)),a.Tl=b)},U2a=function(a,b,c){if(!a||!b||!c)return null;
var d=c.lat();const e=c.lng();c=b&1?d:a.ii.lo;let f=b&2?e:a.Gh.lo;d=b&4?d:a.ii.hi;let g=b&8?e:a.Gh.hi;if(c>d){var h=c;c=d;d=h}b&10&&!a.Gh.contains(e)&&(h=_.Vk(e,a.Gh.lo),a=_.Vk(a.Gh.hi,e),b&2?h>a:a>h)&&(b=f,f=g,g=b);return _.bl(c,f,d,g)},bR=function(a){a&&(a.unbindAll(),a.release(),_.wk(a))},a3a=function(a,b,c){let d;d=c?new DQ(a.Eg,V2a,W2a,!1,b.overlayMouseTarget,a.Lg,a.get("map"),a.Kg):new DQ(a.Ig,X2a,Y2a,!0,b.overlayMouseTarget,a.Lg,a.get("map"),a.Kg);d.bindTo("projection",a);d.bindTo("zoom",a);
d.bindTo("projectionCenterQ",a);d.bindTo("panningEnabled",a);d.bindTo("mapPixelBounds",a);d.bindTo("color",a);d.bindTo("zIndex",a);d.bindTo("offset",a);const e=c?Z2a:$2a;let f;_.rk(d,"dragstart",g=>{f=a.get("bounds");a.Iq.bindTo("freeVertexPosition",d);a.Iq.set("freeControlPoint",e[g]);a.Iq.set("map",a.get("map"))});_.rk(d,"dragend",(g,h,l)=>{a.Iq.set("map",null);_.Dk(a,"toolbar",{show:!0,Fw:l,action:()=>{a.set("bounds",f)}})});_.Ck(d,"dragstart",a);_.Ck(d,"dragend",a);_.Ck(d,"panbynow",a);return d},
b3a=function(a,b,c){a.Fg||(a.Fg=!0,b=U2a(a.get("bounds"),b,c),a.set("bounds",b),a.Fg=!1)},e3a=function(a,b,c){function d(){a.get("editable")?c3a(a,b,c):(d3a(a),_.Dk(a,"toolbar",{show:!1}))}a.editable_changed=d;d()},c3a=function(a,b,c){if(!a.rB){var d=new _.aL(a,!0);a.nr=d;var e=new f3a;e.bindTo("strokeColor",d);e.bindTo("strokeOpacity",d,"ghostStrokeOpacity");e.bindTo("strokeWeight",d);e.bindTo("bounds",a);e.bindTo("zIndex",a);a.Iq=e;var f=b.__gm;a.Cj=wQ(f);var g=_.GJ(f,a),h=_.Us()?9:0,l=new FQ;c=
new g3a(e,function(n,p,r){return new GQ(n,a.Cj,h,p,g,l,r)},c);c.set("map",b);c.bindTo("bounds",a);c.bindTo("panes",f);c.bindTo("projection",b);c.bindTo("zoom",f);c.bindTo("projectionCenterQ",f);c.bindTo("panningEnabled",b,"draggable");c.bindTo("mapPixelBounds",f,"pixelBounds");c.bindTo("offset",f);c.bindTo("color",d,"strokeColor");c.bindTo("zIndex",a);c.bindTo("suppressGhostControlPoints",a);a.rB=c;_.Ck(c,"panbynow",f);_.Ck(c,"toolbar",a)}},d3a=function(a){const b=a.rB;b&&(b.unbindAll(),b.set("map",
null),_.wk(b),delete a.rB,a.Cj?.unbindAll(),a.Cj?.release(),delete a.Cj,a.Iq?.unbindAll(),delete a.Iq,a.nr?.release(),delete a.nr)},i3a=function(a,b){a.Fg=new OQ((c,d,e)=>new h3a(c,d,e),a.Eg,b);JQ(a.Eg,a.Fg);a.Mh.Pg.forEach(c=>{a.tj(c)})},k3a=function(a){const b=a.getVisible()!=0?a.getMap():null;a.Tl!==b&&(a.Tl&&a.Tl.__gm.Pg.remove(a),b&&(b.__gm.Pg.tj||new j3a(b),_.Pm(b.__gm.Pg,a)),a.Tl=b)},HQ="click dblclick mousedown mousemove mouseout mouseover mouseup rightclick contextmenu".split(" "),b1a={};var PQ=class{constructor(a){this.y=this.x=0;this.z=a}equals(a){return this.x===a.x&&this.y===a.y&&this.z===a.z}};var DQ=class extends _.Gk{constructor(a,b,c,d,e,f,g,h){super();this.Og=a;this.Kg=b;this.Jg=c;this.Hg=d;this.Ng=f;this.map=g;this.ah=h;this.Eg=[];this.Yg=_.Ps("div",e,_.Il);a.forEach(this.Ig.bind(this));const l=()=>{this.Hg||_.Dk(this,"toolbar",{show:!1})};this.Lg=[_.rk(a,"insert_at",n=>{this.Ig(a.getAt(n),n);g1a(this,n+1);l()}),_.rk(a,"remove_at",n=>{const p=this.Eg[n];this.Eg.splice(n,1);this.Mg(p);g1a(this,n);l()}),_.rk(a,"set_at",n=>{this.Eg[n].Eo.set("latLngPosition",a.getAt(n));l()})]}release(){this.Lg.forEach(_.tk);
this.Lg.length=0;this.Eg.forEach(this.Mg.bind(this));this.Eg.length=0;_.wk(this.Yg);_.Xi(this.Yg)}zIndex_changed(){let a=this.get("zIndex")||0;this.Hg&&--a;_.Qs(this.Yg,a)}Ig(a,b){const c={};c.index=b;this.Eg.splice(b,0,c);c.constraint=this.Jg[b%this.Jg.length];const d=this.Ng(this.Yg,this.Kg[b%this.Kg.length],this.Hg);d.bindTo("color",this);d.bindTo("panningEnabled",this);d.bindTo("mapPixelBounds",this);c.Eo=d;b=[_.Ck(d,"panbynow",this)];const e=a&&this.map?_.As(a,this.map.getProjection()):null;
d.set("latLngPosition",a);c.Ev=!0;c.qp=null;c.pt=null;a=new _.VK(this.ah.Kj,{bo:f=>{f?d.set("position",new _.P(f.hh,f.jh)):d.set("position",null)},Es:()=>{}},e,this.ah,()=>{if(this.map){var f=c.Ij.getPosition();f&&(f=_.gm(f,this.map.getProjection()),c.Ev=!1,c.Eo.set("latLngPosition",f),c.Ev=!0)}});this.ah.Ii(a);c.Ij=a;b.push(_.rk(d,"latlngposition_changed",()=>{if(c.Ev&&this.map){var f=c.Eo.get("latLngPosition");f?c.Ij.setPosition(_.As(f,this.map.get("projection"))):c.Ij.setPosition(null)}}));b.push(_.rk(d,
"dragstart",()=>{this.nm(c)}));b.push(_.rk(d,"dragend",()=>{this.Im(c)}));b.push(_.rk(d,"deltaclientposition_changed",()=>{this.kn(c)}));b.push(_.rk(d,"dragstart",f=>{this.bindTo("freeVertexPosition",d,"latLngPosition");BQ(this,c,"dragstart",f)}));b.push(_.rk(d,"dragend",f=>{this.Og.setAt(c.index,d.get("latLngPosition"));BQ(this,c,"dragend",f)}));for(const f of HQ)b.push(_.rk(d,f,g=>{BQ(this,c,f,g)}));c.oh=b}nm(a){a.qp=a.Ij.en();a.qp&&_.PJ(a.Ij,a.qp)}Im(a){var b=a.Ij.getPosition();if(b&&this.map&&
(b=_.gm(b,this.map.get("projection")),b=h1a(this,a,b))&&(b=_.As(b,this.map.get("projection")),b=a.Ij.en(b),b=i1a(a,b))&&(b=a.Ij.getPosition(b))){const c=_.gm(b,this.map.get("projection"));a.Ev=!1;a.Eo.set("latLngPosition",c);a.Ev=!0;a.Ij.setPosition(b)}a.qp=null;a.pt=null}kn(a){var b=a.Eo.get("deltaClientPosition");if(b&&(a.qp||a.pt)&&this.map){var c=a.pt||a.qp;a.pt={clientX:c.clientX+b.clientX,clientY:c.clientY+b.clientY};b=this.ah.Nl(a.pt);b=_.gm(b,this.map.get("projection"));c=a.pt;var d=h1a(this,
a,b);d&&!d.equals(b)&&(b=_.As(d,this.map.get("projection")),c=a.Ij.en(b));(c=i1a(a,c))&&_.PJ(a.Ij,c)}}Mg(a){a.Eo.unbindAll();a.Eo.release();a.Ij&&this.ah.Bl(a.Ij);a.oh.forEach(_.tk);a.oh.length=0}};var s1a=class extends _.Gk{center_changed(){CQ(this)}radius_changed(){CQ(this)}planetRadius_changed(){CQ(this)}constructor(a,b,c){super();this.Hq=a;this.ah=c;this.Ig=null;this.Hg=this.Fg=!1;this.Jg=b;this.Eg=new _.im;_.zk(this.Eg,"set_at",this,this.Kg)}map_changed(){this.get("map")||(this.Hq.set("map",null),j1a(this),_.wk(this.Eg))}panes_changed(){j1a(this);this.Ig=m1a(this)}Kg(a){if(!this.Hg){var b=this.Eg.getAt(a);if(a===0)_.WD(this,function(){this.Fg=!0;this.set("center",b);this.Fg=!1},0);else{const c=
_.RC(this.get("center"),b,this.get("planetRadius"));_.WD(this,function(){this.Fg=!0;this.set("radius",c);this.Fg=!1},0)}}}},k1a=["pointer","row-resize","row-resize","col-resize","col-resize"],l1a=[0,2,2,1,1];var FQ=class{construct(a,b,c,d,e){a=_.Ps("div",a,new _.P(b,b),new _.wl(c,c));a.style.borderWidth=_.gs(d);a.style.borderStyle="solid";a.style.borderRadius=_.gs(Math.ceil(c/2+d));_.eE(a,e)}setFillColor(a,b){a.firstChild.style.backgroundColor=b}};var r1a=class extends _.Gk{constructor(){super();const a=new _.ko({clickable:!1,fillOpacity:0});a.bindTo("map",this);a.bindTo("strokeColor",this);a.bindTo("strokeOpacity",this);a.bindTo("strokeWeight",this);var b=["center","freeVertexPosition","freeVertexIsCenter"],c=new _.$J(b,"return",n1a);_.$D(c,b,this);a.bindTo("center",c,"return");b=["center","radius","planetRadius","freeVertexPosition","freeVertexIsCenter"];c=new _.$J(b,"return",(d,e,f,g,h)=>!h&&g&&d?_.RC(g,d,f):e);_.$D(c,b,this);a.bindTo("radius",
c,"return");this.Eg=_.aK();this.Eg.bindTo("zIndex",this);a.bindTo("zIndex",this.Eg,"ghostZIndex")}};var GQ=class extends _.Gk{constructor(a,b,c,d,e,f,g){super();this.Og=e;this.Fg=!1;a=_.Ps("div",a);a.style.display="none";e=9+2*(1+c);_.$m(a,new _.wl(e,e));f.construct(a,c,9,1,g?.5:1);g=new _.MKa(a,!0);g.bindTo("containerPixelBounds",this,"mapPixelBounds");g.bindTo("panningEnabled",this);g.set("draggableCursor",d);g.bindTo("position",this);g.bindTo("deltaClientPosition",this);this.Eg=a;this.Lg=b;this.Mg=c;this.Hg=g;this.Ng=f;this.Ig=[_.rk(g,"dragstart",()=>{b.set("draggableCursor",d);b.set("active",
!0)}),_.rk(g,"dragend",()=>{b.set("active",!1)}),_.Ck(g,"panbynow",this),_.Ck(g,"dragstart",this),_.Ck(g,"dragend",this)];this.Jg=_.ou(a,{tk:h=>{_.$t(h);_.Dk(this,"mousedown",h.Eg)},Tq:h=>{_.au(h);_.Dk(this,"mousemove",h.Eg)},zl:h=>{_.au(h);_.Dk(this,"mousemove",h.Eg)},Jk:h=>{_.bu(h);_.Dk(this,"mouseup",h.Eg)},Ul:({event:h,Nq:l})=>{_.is(h.Eg);h.button===3?l||_.Dk(this,"rightclick",h.Eg):l?_.Dk(this,"dblclick",h.Eg):_.Dk(this,"click",h.Eg)},St:h=>{_.cu(h);_.Dk(this,"contextmenu",h.Eg)}});this.Kg=new _.qy(a,
a,{ys:h=>{this.Fg=!1;EQ(this);_.ok(h);_.pk(h);_.Dk(this,"mouseout",h)},zs:h=>{this.Fg=!0;EQ(this);_.ok(h);_.pk(h);_.Dk(this,"mouseover",h)}})}release(){_.Xi(this.Eg);this.Ig.forEach(_.tk);this.Ig.length=0;this.Jg.remove();this.Kg.remove();this.Hg.unbindAll();this.Hg.release();this.Lg.set("active",!1)}position_changed(){const a=this.get("position");if(a){this.Eg.style.display="block";var b=5+this.Mg;_.Os(this.Eg,new _.P(a.x-b,a.y-b))}else this.Eg.style.display="none"}color_changed(){const a=this.get("color");
this.Eg.firstChild.style.borderColor=a;EQ(this)}};var w1a=class{constructor(a,b,c,d,e){this.Hg=a;this.Fg=c;a=a.get("center");b=c.fromDivPixelToLatLng(b);this.Ig=d(a,b);this.Eg=_.RC(b,a);this.computeOffsetOrigin=e}moveTo(a){a=this.Fg.fromDivPixelToLatLng(a);var b=this.computeOffsetOrigin(a,this.Eg,this.Ig);b||(b=_.RC(a,l3a)-this.Eg,a=_.RC(a,m3a)-this.Eg,b=Math.abs(b)<Math.abs(a)?l3a:m3a);this.Hg.set("center",b)}},l3a=new _.ck(90,0),m3a=new _.ck(-90,0);_.Ea(IQ,_.Gk);IQ.prototype.center_changed=function(){_.Lm(this.Hg)};IQ.prototype.radius_changed=function(){_.Lm(this.Hg)};IQ.prototype.planetRadius_changed=function(){_.Lm(this.Hg)};IQ.prototype.release=function(){const a=this.Eg;for(let b=0,c=a.length;b<c;++b)_.tk(a[b]);this.Eg=null;this.Fg.unbindAll();this.Fg=null};var cR=new _.wl(30,30),n3a=new _.P(cR.width/2,cR.height/2),OQ=class extends _.Gk{constructor(a,b,c){super();this.Sg=a;this.Fg=this.Ig=this.Og=this.Mg=this.Eg=null;this.Ng=!1;this.Kg=b;this.Hg=new _.VK(c.Kj,{bo:d=>{d&&this.set("position",new _.P(d.hh,d.jh))},Es:()=>{}},null,c);c.Ii(this.Hg);this.Jg=new _.TK((d,e)=>{_.Dk(this,"panbynow",d,e)});a=new _.$J(["waitingForQuiver","dragging"],"active",(d,e)=>d||e);a.bindTo("dragging",this,null,!0);a.bindTo("waitingForQuiver",this,null,!0);this.bindTo("active",
a,null,!0)}release(){this.Jg.release();this.Fg&&this.Fg.forEach(_.tk);this.Fg=null}Qg(a){if(this.get("draggable")&&this.Eg&&(!a.domEvent||!_.Bq(a.domEvent))&&(a.stop(),!this.get("dragging")&&a.latLng)){this.Lg=a;this.set("position",this.Ig.fromLatLngToDivPixel(a.latLng));var b=_.As(a.latLng,this.Kg.getProjection());(b=this.Hg.en(b))&&_.PJ(this.Hg,b);b=this.get("position");this.set("dragging",!0);this.set("waitingForQuiver",!1);this.Og=this.Sg(this.Eg,b,this.Ig);NQ(this,"dragstart",a);this.Ng=this.Eg.get("editable");
this.Eg.set("editable",!1);this.set("storeEditable",!0)}}Rg(a){this.get("dragging")&&(this.Lg=a,a.latLng&&(a=_.As(a.latLng,this.Kg.getProjection()),(a=this.Hg.en(a))&&_.PJ(this.Hg,a)))}Pg(a){if(this.get("dragging")){var b=this.Hg.getPosition();if(b){var c=_.gm(b,this.Kg.getProjection());c=this.Ig.fromLatLngToDivPixel(c);this.Lg=a;this.set("position",c);this.Hg.setPosition(b)}this.set("storeEditable",!1);this.Eg.set("editable",this.Ng);NQ(this,"dragend",a);this.set("dragging",!1)}}position_changed(){const a=
this.get("position");a?_.LJ(this.Jg,_.pJa(a,cR,n3a)):_.LJ(this.Jg,null);this.get("dragging")&&(this.Og.moveTo(a),NQ(this,"drag",this.Lg))}containerPixelBounds_changed(){_.NJ(this.Jg,this.get("containerPixelBounds"))}Tg(){this.get("dragging")||this.set("waitingForQuiver",!0)}Ug(){this.set("waitingForQuiver",!1)}active_changed(){MQ(this)}panes_changed(){MQ(this)}poly_changed(){MQ(this)}projectionController_changed(){MQ(this)}dragging_changed(){v1a(this)}panningEnabled_changed(){v1a(this)}};var y1a=class{constructor(a){this.map=a;this.ah=this.Eg=null;this.Mh=a.__gm;this.Mh.Fg.then(({ah:b})=>{this.ah=b;x1a(this,b)});this.Mh.Og.tj=b=>{this.tj(b)};this.Mh.Og.onRemove=b=>{this.onRemove(b)}}tj(a){if(this.Eg&&this.ah){var b=new _.$J(["baseMapType"],"planetRadius",_.Tda);b.bindTo("baseMapType",this.Mh);var c=a.dD=new IQ(a);c.set("map",this.map);c.bindTo("radius",a);c.bindTo("center",a);c.bindTo("capturing",a);c.bindTo("clickable",a);c.bindTo("cursor",a);c.bindTo("fillColor",a);c.bindTo("fillOpacity",
a);c.bindTo("strokeColor",a);c.bindTo("strokeOpacity",a);c.bindTo("strokeWeight",a);c.bindTo("strokePosition",a);c.bindTo("zIndex",a);c.bindTo("suppressUndo",a);c.bindTo("planetRadius",b);var d=[];HQ.forEach(e=>{d.push(_.Ck(c,e,a))});d.push(_.Ck(a,"toolbar",c));a.oh=d;KQ(a,this.Eg);q1a(a,this.map,b,this.ah);_.N(this.map,147750)}}onRemove(a){if(this.ah){var b=a.dD;b.unbindAll();b.set("map",null);b.release();delete a.dD;a.oh&&a.oh.forEach(_.tk);delete a.oh;LQ(a);delete a.editable_changed;p1a(a)}}};var P2a=class{constructor(a,b,c,d,e,f){this.poly=a;this.Ig=c;this.computeOffset=e;this.computeOffsetOrigin=f;const g=A1a(this);b=c.fromDivPixelToLatLng(b);this.Jg=_.RC(g,b);this.Kg=d(g,b);const h=[];this.Hg=h;a.get("latLngs").forEach(l=>{const n=[];l.forEach(p=>{n.push({heading:d(g,p),distance:_.RC(p,g)})});h.push(n)});this.Eg=g;this.Fg=b.lng()-g.lng()}moveTo(a){a=this.Ig.fromDivPixelToLatLng(a);let b=this.computeOffsetOrigin(a,this.Jg,this.Kg);b?Math.abs(b.lat())>89&&(b=new _.ck(_.pj(b.lat(),-89,
89),b.lng())):b=new _.ck(this.Eg.lat(),a.lng()-this.Fg);this.poly.get("latLngs").forEach((c,d)=>{for(let e=0,f=c.getLength();e<f;++e){const g=this.computeOffset(b,this.Hg[d][e].distance,this.Hg[d][e].heading);c.setAt(e,g)}});this.Eg=b;this.Fg=a.lng()-b.lng()}};var B1a=class extends _.Gk{constructor(){super(...arguments);this.zIndex=Infinity}Ls(a){return a!=="dragstart"&&a!=="drag"&&a!=="dragend"}Ts(){return this.get("active")?this:null}handleEvent(a,b,c){if(a==="mouseout")this.set("cursor","");else if(a==="mouseover"){const d=this.get("draggableCursor");d&&this.set("cursor",d)}_.Dk(c,a,new _.ry(b.latLng,b.domEvent))}};var E1a={latLngs:1,geodesic:1,icons:1},F1a={strokeColor:1,strokeOpacity:1,strokePosition:1,strokeWeight:1,fillColor:1,fillOpacity:1,hitStrokeWeight:1,zIndex:1,clickable:1,icons:1},p3a=class extends _.Gk{constructor(a,b){var c=new o3a;super();this.Jg=a;this.Hg=b;this.Ig=c;this.Fg={};this.Eg={};this.timeout=0;const d=this;this.Kg=function(e){H1a(d,this,e)};a.tj=e=>{this.Uq(e)};a.onRemove=e=>{this.As(e)}}projection_changed(){const a=this;a.Jg.forEach(b=>{if(b.get("icons")){const c=_.Fk(b);a.Eg[c]=b;
RQ(b)}});G1a(a)}Uq(a){var b=this.get("projection");b=a.iy={style:I1a(this.Ig,a),geometry:J1a(a,b)};K1a(this,a);a.changed=this.Kg;_.Pm(this.Hg,b)}As(a){const b=a.iy;delete a.iy;this.Hg.remove(b);delete a.changed;RQ(a);a=_.Fk(a);delete this.Fg[a];delete this.Eg[a]}};var Q1a=class{constructor(a){this.Eg=a;_.rk(a,"set_at",b=>{_.Dk(this,"set_at",b);const c=a.getLength();b===0&&c>1&&_.Dk(this,"set_at",c)});_.rk(a,"insert_at",b=>{_.Dk(this,"insert_at",b);const c=a.getLength();c===2?_.Dk(this,"insert_at",2):b===0&&c>1&&_.Dk(this,"set_at",c)});_.rk(a,"remove_at",b=>{_.Dk(this,"remove_at",b);const c=a.getLength();c===1?_.Dk(this,"remove_at",1):b===0&&c>1&&_.Dk(this,"set_at",c)})}getLength(){let a=this.Eg.getLength();a>1&&++a;return a}getAt(a){this.Eg.getLength()===a&&
a>1&&(a=0);return this.Eg.getAt(a)}};var R1a=class extends _.Gk{constructor(a,b,c){super();this.Eg=a;this.Fg=b;this.interpolate=c;this.oh=[_.zk(a,"set_at",this,this.Jg),_.zk(a,"insert_at",this,this.Hg),_.zk(a,"remove_at",this,this.Ig)];for(let d=0,e=a.getLength();d<e;++d)this.Hg(d)}release(){this.oh.forEach(_.tk)}geodesic_changed(){L1a(this)}projection_changed(){L1a(this)}Jg(a){M1a(this,!1,a)}Hg(a){M1a(this,!0,a)}Ig(a){const b=this.get("projection");if(b){var c=this.Eg,d=this.Fg,e=this.get("geodesic");a<c.getLength()?(a>0&&d.setAt(a-
1,SQ(c.getAt(a-1),c.getAt(a),e,b,this.interpolate)),d.removeAt(a)):a>0&&d.removeAt(a-1)}}};var O1a=class extends _.ry{constructor(a,b,c,d,e){super(a,b);c!==void 0&&(this.path=c);d!==void 0&&(this.vertex=d);e!==void 0&&(this.edge=e)}};var V1a=class extends _.Gk{panes_changed(){WQ(this)}paths_changed(){WQ(this)}suppressGhostControlPoints_changed(){WQ(this)}constructor(a,b,c,d,e){super();this.Ql=a;this.Dm=b;this.Ig=c;this.interpolate=d;this.ah=e;this.Fg=[];this.Eg=[];this.Hg=[]}map_changed(){this.get("map")||(this.Ql.set("map",null),N1a(this))}};var aR=class extends _.Gk{constructor(a){super();this.Fg=this.Ig=null;this.Eg=document.createElement("button");this.Eg.type="button";this.Eg.style.background="transparent";this.Eg.style.border="none";this.Eg.style.margin="0";this.Eg.style.padding="0";this.Eg.title="Undo last edit";this.Eg.setAttribute("aria-label","Undo last edit");const b=document.createElement("span");b.style.display="inline-block";this.Eg.appendChild(b);_.Qs(this.Eg,-202);this.Eg.style.cursor="pointer";this.Eg.style.display="none";
this.Mg=_.zG(q3a,b,_.Il,r3a);this.Mg.style.position="relative";_.zk(this,"toolbar",this,this.Kg);this.Jg=new _.VK(a.Kj,{bo:c=>{c&&(c=new _.P(c.hh,c.jh),_.Os(this.Eg,new _.P(c.x+s3a.x,c.y+s3a.y)))},Es:()=>{}},null,a);a.Ii(this.Jg);_.ou(this.Eg,{tk:c=>{_.$t(c);this.Hg(t3a)},Tq:c=>{_.au(c)},zl:c=>{_.au(c)},Jk:c=>{_.bu(c)},Ul:({event:c})=>{_.is(c.Eg);c=c.Eg;_.ok(c);_.pk(c);this.Ig();this.Mj()},uq:{nm:(c,d)=>{_.sBa(d)},kn:()=>{},Im:()=>{}}});new _.qy(this.Eg,this.Eg,{ys:this.Hg.bind(this,_.Il),zs:this.Hg.bind(this,
u3a)})}panes_changed(){const a=this.get("panes");a?a.floatPane.appendChild(this.Eg):this.Eg.parentNode&&_.Xi(this.Eg)}Mj(){this.Eg.style.display="none";this.Ig=null;W1a(this);this.Fg=null}Kg(a){a.show&&a.poly?a.poly.get("suppressUndo")?this.Mj():(a.Fw&&this.Jg.setPosition(a.Fw),X1a(this,a.action||null,a.poly)):a.poly===this.Fg&&this.Mj()}Hg(a){_.AG(this.Mg,r3a,a)}},q3a=_.$n("undo_poly"),r3a=new _.wl(30,27),u3a=new _.P(30,0),t3a=new _.P(60,0),s3a=new _.P(10,-11);aR.prototype.changed=aR.prototype.Mj;var N2a=class{constructor(a,b,c,d){this.Fg=b;this.Hg=d;this.Eg=null;this.Gk=!1;this.zIndex=30;this.Ig=new _.WK(a.Eg,c,d)}Ls(a,b){if(a!=="dragstart"&&a!=="drag"&&a!=="dragend")return!0;a=(a=(b.Iu||b).get("map"))&&a.get("draggable")!==!1&&a.get("gestureHandling")!=="none";return!!this.Eg||!a}Ts(a,b){var c=this.Hg.get();if(!c)return null;c=c.Ch.size;const d=_.QJ(this.Ig,a.oi,v3a);if(!d)return null;const e=new _.P(d.xt.sh*c.hh,d.xt.th*c.jh),f=new _.P(d.un.sh*c.hh,d.un.th*c.jh),g=[];var h=d.Xj.Gi;for(var l of Object.values(h))g.push(l);
g.reverse();g.sort((r,u)=>u.zIndex-r.zIndex||0);l=null;h=b?15:0;for(let r=0,u=g.length;r<u;++r){var n=g[r];const w=n.kB;if(!w.clickable)continue;const x=n.aF.Mz;var p=w.lJ/2+h;n=Y1a(n.paths);if(p=W0a(e.x,e.y,p,n)){l=x;b=this.Hg.get();b=_.Iw(b&&b.Ch,{sh:(p[0]+f.x)/c.hh,th:(p[1]+f.y)/c.jh,zh:d.un.zh});a.oi=new _.P(b.Eg,b.Fg);a.latLng=_.gm(b);break}if(w.Dm&&!b&&X0a(e.x,e.y,n)){l=x;break}}return l}handleEvent(a,b,c){!this.Eg||a!=="mousedown"&&a!=="dragstart"&&a!=="drag"||(this.Gk=!0);this.Eg&&!this.Gk&&
(b.oi=this.Eg.oi,b.latLng=this.Eg.latLng);var d=c.Iu||c;!this.Eg&&a==="mousedown"&&d.get("draggable")&&(this.Eg=b,c.set("capturing",!0));d=c;if(this.Eg){if(this.Gk&&a==="dragend"||!this.Gk&&a==="mouseup")this.Gk=!1,this.Eg=null,c.set("capturing",!1);a!=="dragstart"&&a!=="drag"&&a!=="dragend"||!c.Iu||(d=c.Iu);a==="dragstart"&&(a="movestart");a==="drag"&&(a="move");a==="dragend"&&(a="moveend")}else{if(a==="dragstart"||a==="dragend")return;a==="drag"&&(a="mousemove")}a==="mouseout"?this.Fg.set("cursor",
""):a==="mousemove"&&(c=c.get&&c.get("cursor"),c===void 0&&(c="pointer"),this.Fg.set("cursor",c));_.Dk(d,a,new O1a(b.latLng,b.domEvent))}},v3a=new _.P(.5,.5);var y2a=()=>[],e2a=()=>{};y2a=a=>{const b=[],c=a.length-2;let d;for(let l=2;l<c;l<<=1){var e=a[0],f=a[1];const n=Math.ceil(c/(2*l)),p=Array(n);let r=0;for(let u=0,w=a.length-1-l;u<w;){u+=l;var g=a[u],h=a[u+1];u+=l;u>a.length-2&&(u=a.length-2);const x=a[u],y=a[u+1],B=g-e,C=h-f;e=x-e;const J=y-f,L=B*e+C*J;f=e*e+J*J;L>=f?(g=x-g,h=y-h,h=g*g+h*h):L<=0?h=B*B+C*C:(h=B*J-C*e,h*=h,h/=f+1E-16);h=Math.sqrt(h);d&&(h+=Math.max(d[2*r],d[2*r+1]||0));p[r++]=h;e=x;f=y}r<n&&(p[r]=d?d[2*r]:0);d=p;b.push(p)}return b};
e2a=(a,b,c,d)=>{--b;if(!(b<0)){var e=a.length,f=0;for(d(0);f<b;){const g=1<<e,h=e?a[e-1][f/g]:0;let l=f+g;l>=b&&(l=b);e&&c(f,l,h)?--e:(d(l),f=l,f&g||++e)}}};var w3a=class{constructor(a,b,c,d){this.zoom=b;this.Ch=d;d=_.UC(this.Ch,{sh:a.x,th:a.y,zh:b},16/d.size.hh);d=_.km(d.min.Eg,d.min.Fg,d.max.Eg,d.max.Fg);this.projection=_.fm(c);var e=d,f=new _.tm(e.minX,e.minY);e=new _.tm(e.maxX,e.maxY);d=_.gm(f,c,!0);var g=_.gm(e,c,!0);e=Math.min(d.lat(),g.lat());f=Math.max(d.lat(),g.lat());var h=Math.min(d.lng(),g.lng());g=Math.max(d.lng(),g.lng());d=(h+g)/2;const l=_.qj(d,-180,180);h+=l-d;g+=l-d;d=_.km(e,h,f,g);e=new _.ck(e,h,!0);h=new _.ck(f,g,!0);f=_.As(e,c);f=
new _.P(f.Eg,f.Fg);e=_.As(h,c);e=new _.jm([f,new _.P(e.Eg,e.Fg)]);this.Eg=d;this.Hg=e;this.un=a;a=1<<b;b=this.projection;c=.5/a;d=this.Hg;this.Ig=Math.min(d1a(b,c,new _.P(d.minX,d.minY)),d1a(b,c,new _.P(d.maxX,d.maxY)));this.Jg=f2a(this.Eg,this.Ig,this.projection);this.Fg=b2a(a)}getBounds(){return this.Eg}};var x3a=class extends _.Kn{constructor(a,b,c){super();this.tiles=a;this.Ig=Math.min(2,_.Zn());this.Jg=b;this.Fg=c||_.Gy}Eg(){return{Ch:this.Fg,wl:2,Sk:this.Hg.bind(this)}}Hg(a,b={}){const c=document.createElement("div");var d=this.Fg.size;c.style.width=`${d.hh}px`;c.style.height=`${d.jh}px`;const e=new _.P(a.sh,a.th);d=this.get("projection");const f=new w3a(e,a.zh,d,this.Fg),g=f.getBounds(),h=this.Jg(this.Ig,c);let l=!1,n;return{Ei:()=>c,hm:()=>l,loaded:new Promise(p=>{n={bounds:g,mi:e,lh:c,lB:h,
Gi:{},yl:()=>{l=!0;p(void 0)},ZL:f,zoom:a.zh};_.Pm(this.tiles,n)}),release:()=>{c.textContent="";h.release();this.tiles.remove(n);b.Ui&&b.Ui()}}}};var r2a=class{constructor(a,b,c,d,e){this.tt=a;this.Yg=b;this.Ig=e;this.Fg=this.Eg=null;this.Gi={};this.Hg=0;this.tileSize=c.size;this.Jg=d}release(){p2a(this)}};var y3a=class{constructor(a,b){this.Ch=a;this.tt=b;this.Eg=null}};var z3a=class{constructor(a,b,c,d){this.Eg=b;this.Fg=d;a.tj=e=>{u2a(this,e)};a.onRemove=e=>{v2a(this,e)};c.tj=e=>{w2a(this,e)};c.onRemove=e=>{x2a(this,e)};Object.values(a.Eg).forEach(e=>{u2a(this,e)});Object.values(c.Eg).forEach(e=>{w2a(this,e)})}};var Q2a=class{constructor(a,b,c){this.poly=a;this.Fg=c;this.Hg=c.fromDivPixelToLatLng(b);this.Eg=[];a.get("latLngs").forEach(d=>{this.Eg.push(d.getArray().slice(0))})}moveTo(a){const b=this.poly.get("latLngs"),c=this.Fg;a=c.fromDivPixelToLatLng(a);a=sQ(c,a);const d=sQ(c,this.Hg),e=new _.tm(d.Eg-a.Eg,d.Fg-a.Fg);this.Eg.forEach((f,g)=>{const h=b.getAt(g);f.forEach((l,n)=>{l=sQ(c,l);h.setAt(n,tQ(c,new _.tm(l.Eg-e.Eg,l.Fg-e.Fg)))})})}};var H2a=new PQ(1),ZQ=new PQ(0),$Q=new PQ(0);var L2a={value:100,unit:"%"},M2a={value:0,unit:"px"};var o3a=class{constructor(){var a=_.CJa();this.Hg=_.VKa;this.Eg=_.WKa;this.Fg=a}};var S2a=class{constructor(a){this.map=a;this.ah=this.Fg=this.Eg=this.Hg=this.geometry=null;this.Mh=a.__gm;const b=new _.Om;(new p3a(this.Mh.Mg,b)).bindTo("projection",a);var c=_.km(-100,-200,100,200);const d=new _.SK(c);c=new _.SK(c);this.tiles=new _.Om;new z3a(b,d,this.tiles,c);const e=_.Ks(a.getDiv());let f=void 0,g=null;this.Ig=new _.Dl(null);_.RJ(a,this.Ig,"overlayLayer",30);this.Mh.Fg.then(h=>{this.ah=h.ah;R2a(this,h.ah);_.br(h.Fr,l=>{if(l&&f!==l.Ch){g&&g.unbindAll();f=l.Ch;var n=new y3a(f,e);
g=new x3a(this.tiles,(...p)=>s2a(n,...p),f);g.bindTo("projection",a);this.Ig.set(g.Eg())}})});_.rk(this.Mh.Mg,"insert",h=>{this.tj(h)});_.rk(this.Mh.Mg,"remove",h=>{this.onRemove(h)})}tj(a){this.Hg&&this.Eg&&this.Fg&&this.geometry&&this.ah&&(KQ(a,this.Hg),U1a(a,this.map,this.Eg,this.geometry.spherical.interpolate,this.ah),C1a(a,this.Mh,this.Fg,this.Mh.Kg),a.BD||(_.pl(this.map,a.Dm?"Op":"Ol"),_.N(this.map,a.Dm?147752:147753)))}onRemove(a){if(this.Eg&&this.ah){LQ(a);var b=this.Eg;delete a.editable_changed;
T1a(a);_.Dk(b,"toolbar",{show:!1,poly:a});a.iC&&(_.tk(a.iC),delete a.iC);a.set("capturing",!1);delete a.capturing_changed}}};var f3a=class extends _.Gk{constructor(){super();const a=new _.iq({clickable:!1,fillOpacity:0});a.bindTo("map",this);a.bindTo("strokeColor",this);a.bindTo("strokeOpacity",this);a.bindTo("strokeWeight",this);const b=new _.$J(["bounds","freeControlPoint","freeVertexPosition"],"return",U2a);b.bindTo("bounds",this);b.bindTo("freeControlPoint",this);b.bindTo("freeVertexPosition",this);a.bindTo("bounds",b,"return");this.Eg=_.aK();this.Eg.bindTo("zIndex",this);a.bindTo("zIndex",this.Eg,"ghostZIndex")}};var Z2a=[12,6,9,3],$2a=[1,2,4,8],V2a=["ne-resize","nw-resize","se-resize","sw-resize"],X2a=["row-resize","col-resize"],W2a=[0],Y2a=[2,1],g3a=class extends _.Gk{constructor(a,b,c){super();this.Iq=a;this.Hg=this.Jg=null;this.Fg=!1;this.Lg=b;this.Eg=new _.im;_.zk(this.Eg,"set_at",this,this.Mg);this.Ig=new _.im;_.zk(this.Ig,"set_at",this,this.Ng);this.Kg=c}map_changed(){this.get("map")||(this.Iq.set("map",null),bR(this.Jg),this.get("suppressGhostControlPoints")||bR(this.Hg),_.wk(this.Eg))}bounds_changed(){var a=
this.Eg;const b=this.Ig,c=this.get("bounds");if(c){this.Fg=!0;a.setAt(0,c.getNorthEast());a.setAt(1,_.ar(c));a.setAt(2,_.$q(c));a.setAt(3,c.getSouthWest());a=c.ii.center();var d=c.Gh.center();b.setAt(0,new _.ck(c.ii.lo,d));b.setAt(1,new _.ck(a,c.Gh.lo));b.setAt(2,new _.ck(c.ii.hi,d));b.setAt(3,new _.ck(a,c.Gh.hi));this.Fg=!1;_.Dk(this,"toolbar",{show:!1})}else a.clear(),b.clear()}Mg(a){b3a(this,Z2a[a],this.Eg.getAt(a))}Ng(a){b3a(this,$2a[a],this.Ig.getAt(a))}panes_changed(){bR(this.Jg);bR(this.Hg);
this.Hg=null;const a=this.get("panes");a&&(this.Jg=a3a(this,a,!0),this.get("suppressGhostControlPoints")||(this.Hg=a3a(this,a,!1)))}suppressGhostControlPoints_changed(){this.panes_changed()}};var h3a=class{constructor(a,b,c){this.Jg=a;this.Fg=c;a=a.get("bounds");this.Ig=sQ(c,a.getSouthWest());this.Hg=sQ(c,a.getNorthEast());this.Eg=sQ(c,c.fromDivPixelToLatLng(b))}moveTo(a){var b=this.Fg;a=b.fromDivPixelToLatLng(a);b=sQ(b,a);a=new _.tm(this.Hg.Eg-this.Eg.Eg+b.Eg,this.Hg.Fg-this.Eg.Fg+b.Fg);b=new _.$k(tQ(this.Fg,new _.tm(this.Ig.Eg-this.Eg.Eg+b.Eg,this.Ig.Fg-this.Eg.Fg+b.Fg)),tQ(this.Fg,a));this.Jg.set("bounds",b)}};var A3a=class extends _.Gk{constructor(a){super();const b=new _.Gn;this.Eg=b;b.Iu=a;b.BD=!0;b.bindTo("capturing",this);b.bindTo("cursor",this);b.bindTo("map",this);b.bindTo("strokeColor",this);b.bindTo("strokeOpacity",this);b.bindTo("strokeWeight",this);b.bindTo("strokePosition",this);b.bindTo("fillColor",this);b.bindTo("fillOpacity",this);b.bindTo("clickable",this);b.bindTo("zIndex",this);b.bindTo("suppressUndo",this);const c=[];this.Fg=c;HQ.forEach(d=>{c.push(_.Ck(b,d,this))});c.push(_.Ck(this,
"toolbar",b))}bounds_changed(){const a=this.Eg;if(a){var b=this.get("bounds");if(b){const c=b.getSouthWest(),d=b.getNorthEast();b=b.getCenter();a.setPaths([new _.ck(d.lat(),d.lng()),new _.ck(d.lat(),b.lng()),new _.ck(d.lat(),c.lng()),new _.ck(c.lat(),c.lng()),new _.ck(c.lat(),b.lng()),new _.ck(c.lat(),d.lng())])}else a.setPaths([])}}release(){const a=this.Fg;for(let b=0,c=a.length;b<c;++b)_.tk(a[b]);delete this.Fg;this.Eg.unbindAll();delete this.Eg}};var j3a=class{constructor(a){this.Eg=a;this.ah=this.Fg=null;this.Mh=this.Eg.__gm;this.Mh.Fg.then(({ah:b})=>{this.ah=b;i3a(this,b)});this.Mh.Pg.tj=b=>{this.tj(b)};this.Mh.Pg.onRemove=b=>{this.onRemove(b)}}tj(a){if(this.Fg&&this.ah){var b=a.cF=new A3a(a);b.set("map",this.Eg);b.bindTo("bounds",a);b.bindTo("capturing",a);b.bindTo("cursor",a);b.bindTo("clickable",a);b.bindTo("fillColor",a);b.bindTo("fillOpacity",a);b.bindTo("strokeColor",a);b.bindTo("strokeOpacity",a);b.bindTo("strokeWeight",a);b.bindTo("strokePosition",
a);b.bindTo("suppressUndo",a);b.bindTo("zIndex",a);var c=[];a.oh=c;HQ.forEach(d=>{c.push(_.Ck(b,d,a))});c.push(_.Ck(a,"toolbar",b));KQ(a,this.Fg);e3a(a,this.Eg,this.ah);_.pl(this.Eg,"Or");_.N(this.Eg,147755)}}onRemove(a){if(this.ah){var b=a.cF;b.unbindAll();b.set("map",null);b.release();delete a.cF;a.oh&&a.oh.forEach(_.tk);delete a.oh;LQ(a);delete a.editable_changed;d3a(a)}}};var B3a=class{constructor(){this.WG=z1a;this.aH=T2a;this.bH=k3a}};_.fj("poly",new B3a);});
